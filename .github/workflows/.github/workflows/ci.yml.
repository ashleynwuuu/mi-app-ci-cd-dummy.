name: CI - Pruebas y Construcción
on: [push, pull_request]
jobs:
test:

runs-on: ubuntu-latest
steps:
- uses: actions/checkout@v2
- name: Instalar Node.js
uses: actions/setup-node@v2
with:
node-version: '14'
- name: Instalar dependencias
run: npm install
- name: Ejecutar pruebas
○ run: npm test

deploy:
needs: test
runs-on: ubuntu-latest
steps:
- uses: actions/checkout@v2
- name: Desplegar en Netlify
uses: nwtgck/actions-netlify@v1.2
with:
publish-dir: './'
production-branch: main
github-token: ${{ secrets.NETLIFY_AUTH_TOKEN }}
env:
NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }}
○ NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITE_ID
